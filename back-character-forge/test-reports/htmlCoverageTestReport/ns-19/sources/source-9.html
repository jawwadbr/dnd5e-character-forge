


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > TestService</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.jawbr.dnd5e.characterforge.service</a>
</div>

<h1>Coverage Summary for Class: TestService (com.jawbr.dnd5e.characterforge.service)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
</tr>
<tr>
  <td class="name">TestService</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.jawbr.dnd5e.characterforge.service;
&nbsp;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.AbilityScore;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.AbilityScoreBonusesOption;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.Language;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.LanguageOption;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.Proficiency;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.Race;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.RaceAbilityScoreBonus;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.Skill;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.StartingProficiencyOption;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.SubRace;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.SubRaceAbilityScoreBonus;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.Trait;
&nbsp;import com.jawbr.dnd5e.characterforge.model.entity.TypicalSpeakers;
&nbsp;import com.jawbr.dnd5e.characterforge.model.util.LanguageType;
&nbsp;import com.jawbr.dnd5e.characterforge.model.util.OptionType;
&nbsp;import com.jawbr.dnd5e.characterforge.model.util.ProficiencyType;
&nbsp;import com.jawbr.dnd5e.characterforge.model.util.Size;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.AbilityScoreRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.LanguageRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.ProficiencyRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.RaceRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.SkillRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.SubRaceRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.repository.TraitRepository;
&nbsp;import com.jawbr.dnd5e.characterforge.util.IgnoreCoverage;
&nbsp;import jakarta.annotation.PostConstruct;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;
&nbsp;import org.springframework.context.annotation.PropertySource;
&nbsp;import org.springframework.stereotype.Service;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Collections;
&nbsp;import java.util.List;
&nbsp;import java.util.Optional;
&nbsp;
&nbsp;@IgnoreCoverage
&nbsp;@Service
&nbsp;public class TestService {
&nbsp;
&nbsp;    private final AbilityScoreRepository abilityScoreRepository;
&nbsp;    private final SkillRepository skillRepository;
&nbsp;    private final RaceRepository raceRepository;
&nbsp;    private final LanguageRepository languageRepository;
&nbsp;    private final ProficiencyRepository proficiencyRepository;
&nbsp;    private final SubRaceRepository subRaceRepository;
&nbsp;    private final TraitRepository traitRepository;
&nbsp;
&nbsp;    public TestService(AbilityScoreRepository abilityScoreRepository,
&nbsp;                       SkillRepository skillRepository,
&nbsp;                       RaceRepository raceRepository,
&nbsp;                       LanguageRepository languageRepository, ProficiencyRepository proficiencyRepository, SubRaceRepository subRaceRepository, TraitRepository traitRepository)
&nbsp;    {
&nbsp;        this.abilityScoreRepository = abilityScoreRepository;
&nbsp;        this.skillRepository = skillRepository;
&nbsp;        this.raceRepository = raceRepository;
&nbsp;        this.languageRepository = languageRepository;
&nbsp;        this.proficiencyRepository = proficiencyRepository;
&nbsp;        this.subRaceRepository = subRaceRepository;
&nbsp;        this.traitRepository = traitRepository;
&nbsp;    }
&nbsp;
&nbsp;    public void test() {
&nbsp;
&nbsp;        // CREATE SKILLS
&nbsp;
&nbsp;        Skill acrobatics = Skill.builder()
&nbsp;                .indexName(&quot;acrobatics&quot;)
&nbsp;                .name(&quot;Acrobatics&quot;)
&nbsp;                .skillDesc(&quot;Your Dexterity (Acrobatics) check covers your attempt to stay on your feet in a tricky situation, &quot; +
&nbsp;                        &quot;such as when you&#39;re trying to run across a sheet of ice, balance on a tightrope, or stay upright on a rocking ship&#39;s deck. &quot; +
&nbsp;                        &quot;The GM might also call for a Dexterity (Acrobatics) check to see if you can perform acrobatic stunts, including dives, &quot; +
&nbsp;                        &quot;rolls, somersaults, and flips.&quot;)
&nbsp;                // add abilityScore later
&nbsp;                .url(&quot;/api/skills/acrobatics&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        Skill sleightOfHand = Skill.builder()
&nbsp;                .indexName(&quot;sleight-of-hand&quot;)
&nbsp;                .name(&quot;Sleight of Hand&quot;)
&nbsp;                .skillDesc(&quot;Whenever you attempt an act of legerdemain or manual trickery, such as planting something on &quot; +
&nbsp;                        &quot;someone else or concealing an object on your person, make a Dexterity (Sleight of Hand) check. &quot; +
&nbsp;                        &quot;The GM might also call for a Dexterity (Sleight of Hand) check to determine whether you can lift &quot; +
&nbsp;                        &quot;a coin purse off another person or slip something out of another person&#39;s pocket.&quot;)
&nbsp;                // add abilityScore later
&nbsp;                .url(&quot;/api/skills/sleight-of-hand&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        Skill stealth = Skill.builder()
&nbsp;                .indexName(&quot;stealth&quot;)
&nbsp;                .name(&quot;Stealth&quot;)
&nbsp;                .skillDesc(&quot;Make a Dexterity (Stealth) check when you attempt to conceal yourself from enemies, &quot; +
&nbsp;                        &quot;slink past guards, slip away without being noticed, or sneak up on someone &quot; +
&nbsp;                        &quot;without being seen or heard.&quot;)
&nbsp;                // add abilityScore later
&nbsp;                .url(&quot;/api/skills/stealth&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;Skill&gt; skillList = new ArrayList&lt;&gt;();
&nbsp;        skillList.add(acrobatics);
&nbsp;        skillList.add(sleightOfHand);
&nbsp;        skillList.add(stealth);
&nbsp;
&nbsp;        // CREATE ABILITY SCORE
&nbsp;
&nbsp;        AbilityScore dex = AbilityScore.builder()
&nbsp;                .indexName(&quot;dex&quot;)
&nbsp;                .shortName(&quot;DEX&quot;)
&nbsp;                .fullName(&quot;Dexterity&quot;)
&nbsp;                .desc(&quot;Dexterity measures agility, reflexes, and balance. A Dexterity check can model any attempt to move nimbly, quickly, &quot; +
&nbsp;                        &quot;or quietly, or to keep from falling on tricky footing. The Acrobatics, Sleight of Hand, and Stealth &quot; +
&nbsp;                        &quot;skills reflect aptitude in certain kinds of Dexterity checks.&quot;)
&nbsp;                .skills(skillList)
&nbsp;                .url(&quot;/api/ability-scores/dex&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        // associate skill and ability score
&nbsp;
&nbsp;        acrobatics.setAbilityScore(dex);
&nbsp;        sleightOfHand.setAbilityScore(dex);
&nbsp;        stealth.setAbilityScore(dex);
&nbsp;
&nbsp;        // CREATE RACE
&nbsp;
&nbsp;        Race elf = Race.builder()
&nbsp;                .indexName(&quot;elf&quot;)
&nbsp;                .raceName(&quot;Elf&quot;)
&nbsp;                .speed(30)
&nbsp;                .size(Size.Medium)
&nbsp;                .age_desc(&quot;Although elves reach physical maturity at about the same age as humans, the elven understanding of &quot; +
&nbsp;                        &quot;adulthood goes beyond physical growth to encompass worldly experience. An elf typically &quot; +
&nbsp;                        &quot;claims adulthood and an adult name around the age of 100 and can live to be 750 years old.&quot;)
&nbsp;                .alignment(&quot;Elves love freedom, variety, and self-expression, so they lean strongly toward the gentler aspects of chaos. &quot; +
&nbsp;                        &quot;They value and protect others&#39; freedom as well as their own, and they are more often good than not.&quot;)
&nbsp;                .size_desc(&quot;Elves range from under 5 to over 6 feet tall and have slender builds. Your size is Medium.&quot;)
&nbsp;                .language_desc(&quot;You can speak, read, and write Common and Elvish. Elvish is fluid, with subtle intonations and intricate grammar. &quot; +
&nbsp;                        &quot;Elven literature is rich and varied, and their songs and poems are famous among other races. Many bards learn their &quot; +
&nbsp;                        &quot;language so they can add Elvish ballads to their repertoires.&quot;)
&nbsp;                .url(&quot;/api/races/elf&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        // associate elf and ability score
&nbsp;
&nbsp;        RaceAbilityScoreBonus raceAbilityScoreBonus = RaceAbilityScoreBonus.builder()
&nbsp;                .race(elf)
&nbsp;                .bonus(2)
&nbsp;                .abilityScore(dex)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;RaceAbilityScoreBonus&gt; raceAbilityScoreBonusList = new ArrayList&lt;&gt;();
&nbsp;        raceAbilityScoreBonusList.add(raceAbilityScoreBonus);
&nbsp;
&nbsp;        elf.setAbilityBonuses(raceAbilityScoreBonusList);
&nbsp;
&nbsp;        // CREATE LANGUAGE
&nbsp;
&nbsp;        List&lt;TypicalSpeakers&gt; elv = new ArrayList&lt;&gt;();
&nbsp;        TypicalSpeakers typicalSpeakersElves = TypicalSpeakers.builder()
&nbsp;                .speakerName(&quot;Elves&quot;)
&nbsp;                .build();
&nbsp;        elv.add(typicalSpeakersElves);
&nbsp;
&nbsp;        List&lt;TypicalSpeakers&gt; hum = new ArrayList&lt;&gt;();
&nbsp;        TypicalSpeakers typicalSpeakersHuman = TypicalSpeakers.builder()
&nbsp;                .speakerName(&quot;Human&quot;)
&nbsp;                .build();
&nbsp;        hum.add(typicalSpeakersHuman);
&nbsp;
&nbsp;        Language languageElf = Language.builder()
&nbsp;                .indexName(&quot;elvish&quot;)
&nbsp;                .name(&quot;Elvish&quot;)
&nbsp;                .language_desc(&quot;Elvish is fluid, with subtle intonations and intricate grammar. &quot; +
&nbsp;                        &quot;Elven literature is rich and varied, and their songs and poems are famous among other races. Many bards &quot; +
&nbsp;                        &quot;learn their language so they can add Elvish ballads to their repertoires.&quot;)
&nbsp;                .type(LanguageType.Standard)
&nbsp;                .script(&quot;Elvish&quot;)
&nbsp;                .url(&quot;/api/languages/elvish&quot;)
&nbsp;                .typicalSpeakers(elv)
&nbsp;                .build();
&nbsp;
&nbsp;        Language languageCommon = Language.builder()
&nbsp;                .indexName(&quot;common&quot;)
&nbsp;                .name(&quot;Common&quot;)
&nbsp;                .type(LanguageType.Standard)
&nbsp;                .script(&quot;Common&quot;)
&nbsp;                .url(&quot;/api/languages/common&quot;)
&nbsp;                .typicalSpeakers(hum)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;Language&gt; languageList = new ArrayList&lt;&gt;();
&nbsp;        languageList.add(languageCommon);
&nbsp;        languageList.add(languageElf);
&nbsp;
&nbsp;        // associate languages to race
&nbsp;        elf.setLanguages(languageList);
&nbsp;
&nbsp;        // Races list
&nbsp;        List&lt;Race&gt; raceList = new ArrayList&lt;&gt;();
&nbsp;        raceList.add(elf);
&nbsp;
&nbsp;        // Create starting_proficiencies
&nbsp;        Proficiency skill_perception = Proficiency.builder()
&nbsp;                .indexName(&quot;skill-perception&quot;)
&nbsp;                .type(ProficiencyType.Skills)
&nbsp;                .name(&quot;Skill: Perception&quot;)
&nbsp;                .url(&quot;/api/proficiencies/skill-perception&quot;)
&nbsp;                .races(raceList)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;Proficiency&gt; proficiencyList = new ArrayList&lt;&gt;();
&nbsp;        proficiencyList.add(skill_perception);
&nbsp;
&nbsp;        elf.setProficiencies(proficiencyList);
&nbsp;
&nbsp;        // Create sub race and associate with race
&nbsp;        SubRace subrace = SubRace.builder()
&nbsp;                .subRaceName(&quot;High Elf&quot;)
&nbsp;                .race(elf)
&nbsp;                .desc(&quot;As a high elf, you have a keen mind and a mastery of at least the basics of magic. &quot; +
&nbsp;                        &quot;In many fantasy gaming worlds, there are two kinds of high elves. One type is haughty and reclusive, &quot; +
&nbsp;                        &quot;believing themselves to be superior to non-elves and even other elves. The other type is more common and more friendly, &quot; +
&nbsp;                        &quot;and often encountered among humans and other races.&quot;)
&nbsp;                .url(&quot;/api/subraces/high-elf&quot;)
&nbsp;                .indexName(&quot;high-elf&quot;)
&nbsp;                .languages(languageList)
&nbsp;                .build();
&nbsp;
&nbsp;        subrace.setProficiencies(proficiencyList);
&nbsp;
&nbsp;        List&lt;SubRace&gt; subRaces = new ArrayList&lt;&gt;();
&nbsp;        subRaces.add(subrace);
&nbsp;
&nbsp;        SubRaceAbilityScoreBonus subRaceAbilityScoreBonus = SubRaceAbilityScoreBonus.builder()
&nbsp;                .subRace(subrace)
&nbsp;                .bonus(2)
&nbsp;                .abilityScore(dex)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;SubRaceAbilityScoreBonus&gt; subRaceAbilityScoreBonuses = new ArrayList&lt;&gt;();
&nbsp;        subRaceAbilityScoreBonuses.add(subRaceAbilityScoreBonus);
&nbsp;
&nbsp;        subrace.setAbilityBonuses(subRaceAbilityScoreBonuses);
&nbsp;
&nbsp;        elf.setSubRaces(subRaces);
&nbsp;
&nbsp;        // CREATE TRAIT
&nbsp;        Trait keen_senses = Trait.builder()
&nbsp;                .indexName(&quot;keen-senses&quot;)
&nbsp;                .races(raceList)
&nbsp;                .traitName(&quot;Keen Senses&quot;)
&nbsp;                .desc(&quot;You have proficiency in the Perception skill.&quot;)
&nbsp;                .url(&quot;/api/traits/keen-senses&quot;)
&nbsp;                .proficiencies(proficiencyList)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;Trait&gt; traits = new ArrayList&lt;&gt;();
&nbsp;        traits.add(keen_senses);
&nbsp;
&nbsp;        Trait high_elf_cantrip = Trait.builder()
&nbsp;                .indexName(&quot;high-elf-cantrip&quot;)
&nbsp;                .subRaces(subRaces)
&nbsp;                .traitName(&quot;High Elf Cantrip&quot;)
&nbsp;                .desc(&quot;You know one cantrip of your choice form the wizard spell list. &quot; +
&nbsp;                        &quot;Intelligence is your spellcasting ability for it&quot;)
&nbsp;                .url(&quot;/api/traits/high-elf-cantrip&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        Trait extra_language = Trait.builder()
&nbsp;                .indexName(&quot;extra-language&quot;)
&nbsp;                .subRaces(subRaces)
&nbsp;                .traitName(&quot;Extra Language&quot;)
&nbsp;                .desc(&quot;You can speak, read, and write one extra language of your choice.&quot;)
&nbsp;                .url(&quot;/api/traits/extra-language&quot;)
&nbsp;                .build();
&nbsp;
&nbsp;        List&lt;Trait&gt; subRaceTraits = new ArrayList&lt;&gt;();
&nbsp;        subRaceTraits.add(high_elf_cantrip);
&nbsp;        subRaceTraits.add(extra_language);
&nbsp;
&nbsp;        // Associate Race to Trait
&nbsp;        elf.setTraits(traits);
&nbsp;        subrace.setTraits(subRaceTraits);
&nbsp;
&nbsp;        // LANGUAGE OPTION TO SUBRACE
&nbsp;        LanguageOption languageOption = LanguageOption.builder()
&nbsp;                .choose(1)
&nbsp;                .type(OptionType.language)
&nbsp;                .from(languageList)
&nbsp;                .build();
&nbsp;
&nbsp;        subrace.setLanguageOptions(languageOption);
&nbsp;
&nbsp;        // NEW LANGUAGE OPTION EXTRALANGUAGE TEST
&nbsp;        LanguageOption languageOptionExtraLang = LanguageOption.builder()
&nbsp;                .choose(1)
&nbsp;                .type(OptionType.language)
&nbsp;                .from(languageList)
&nbsp;                .build();
&nbsp;
&nbsp;        extra_language.setLanguageOptions(languageOptionExtraLang);
&nbsp;
&nbsp;        // SAVE ALL
&nbsp;
&nbsp;        // CREATE ABILITY SCORE BONUSES OPTIONS FOR RACE
&nbsp;        List&lt;AbilityScore&gt; abilityScoreList = new ArrayList&lt;&gt;();
&nbsp;        abilityScoreList.add(dex);
&nbsp;
&nbsp;        AbilityScoreBonusesOption abilityScoreBonusesOption = AbilityScoreBonusesOption.builder()
&nbsp;                .type(OptionType.ability_bonuses)
&nbsp;                .choose(2)
&nbsp;                .from(abilityScoreList)
&nbsp;                .bonus(1)
&nbsp;                .build();
&nbsp;        elf.setAbilityBonusesOptions(abilityScoreBonusesOption);
&nbsp;
&nbsp;        // CREATE public class StartingProficiencyOption FOR RACE
&nbsp;        StartingProficiencyOption proficiencyOption = StartingProficiencyOption.builder()
&nbsp;                .choose(2)
&nbsp;                .type(OptionType.proficiencies)
&nbsp;                .from(proficiencyList)
&nbsp;                .build();
&nbsp;        elf.setProficiencyOptions(proficiencyOption);
&nbsp;
&nbsp;        // For trait
&nbsp;        StartingProficiencyOption proficiencyOptionTrait = StartingProficiencyOption.builder()
&nbsp;                .choose(1)
&nbsp;                .type(OptionType.proficiencies)
&nbsp;                .from(proficiencyList)
&nbsp;                .build();
&nbsp;        high_elf_cantrip.setProficiencyOptions(proficiencyOptionTrait);
&nbsp;
&nbsp;        abilityScoreRepository.save(dex);
&nbsp;        skillRepository.save(acrobatics);
&nbsp;        skillRepository.save(sleightOfHand);
&nbsp;        skillRepository.save(stealth);
&nbsp;
&nbsp;        raceRepository.save(elf);
&nbsp;        subRaceRepository.save(subrace);
&nbsp;        proficiencyRepository.save(skill_perception);
&nbsp;        traitRepository.save(keen_senses);
&nbsp;        traitRepository.save(high_elf_cantrip);
&nbsp;        traitRepository.save(extra_language);
&nbsp;    }
&nbsp;
&nbsp;    public void deleteLang() {
&nbsp;        Race elf = raceRepository.findByIndexName(&quot;elf&quot;);
&nbsp;        elf.setLanguages(null);
&nbsp;        raceRepository.save(elf);
&nbsp;        SubRace sub = subRaceRepository.findByIndexName(&quot;high-elf&quot;);
&nbsp;        sub.setLanguages(null);
&nbsp;        subRaceRepository.save(sub);
&nbsp;    }
&nbsp;
&nbsp;    public void deleteRace() {
&nbsp;        raceRepository.deleteById(1);
&nbsp;    }
&nbsp;
&nbsp;    public void deleteSubRace() {
&nbsp;        subRaceRepository.deleteById(1);
&nbsp;    }
&nbsp;
&nbsp;    public void deleteLanguageOptionsForElf() {
&nbsp;        Race elf = raceRepository.findByIndexName(&quot;elf&quot;);
&nbsp;        elf.setLanguageOptions(null);
&nbsp;        raceRepository.save(elf);
&nbsp;    }
&nbsp;
&nbsp;    public void deleteLanguageOptionsForHighElfSubRace() {
&nbsp;        SubRace highElf = subRaceRepository.findByIndexName(&quot;high-elf&quot;);
&nbsp;        highElf.setLanguageOptions(null);
&nbsp;        subRaceRepository.save(highElf);
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-12-07 01:41</div>
</div>
</body>
</html>
